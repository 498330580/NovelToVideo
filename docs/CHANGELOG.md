# 更新日志

## [1.0.0] - 2025-12-04

### 新增功能
- ✅ 基础Web管理界面，支持项目创建和管理
- ✅ 文本自动分段处理（支持Edge-TTS字节限制分段）
- ✅ 多线程并行语音合成（最多16线程）
- ✅ 高质量视频生成，支持多分辨率和码率
- ✅ 实时任务监控和进度显示
- ✅ 多项目并行处理，最多5个并发项目
- ✅ 灵活的参数配置：语音、视频、分段
- ✅ SQLite数据库支持，自动初始化
- ✅ Docker容器部署支持
- ✅ 自定义背景图片支持
- ✅ 任务自动调度和重试机制

### 功能特性
- 文本编码自动检测与转换
- 非法字符过滤和清理
- 文本长度验证（最大500万字）
- 自动重试机制（失败最多重试3次）
- 动态超时配置（基于文本长度）
- 完整的错误日志记录
- 支持多种语音角色（20+中文语音）
- 灵活的视频参数配置
- 自动生成项目背景图片
- 视频片段时间分片输出

### 修复问题
- 修复UnboundLocalError：移除视频生成时的局部导入冲突
- 修复默认背景图片生成问题
- 修复启动速度慢的问题（优化项目状态重置逻辑）
- 修复项目详情页面加载速度（使用估算而非实际读取音频时长）
- 修复视频段落统计数据不一致问题

### 代码优化
- 移除未使用的变量（failed_video_segments）
- 优化任务调度器启动流程
- 简化项目状态重置逻辑
- 提升页面加载速度

### 已知限制
- Edge TTS 需要稳定的网络连接
- 大文本处理需要足够的磁盘空间（建议10GB+）
- moviepy依赖外部ffmpeg工具

### 系统需求
- Python 3.10+
- Flask 3.0.0
- edge-tts 6.1.9
- Pillow 10.1.0
- moviepy 1.0.3
- FFmpeg
- 2GB+ 可用内存
- 10GB+ 可用磁盘空间

### 部署方式
- 传统Python环境：`python run.py`
- Docker容器：`docker-compose up -d`

---

## 版本说明

### 版本号规范
- 主版本号(Major)：功能大幅变化或重构
- 次版本号(Minor)：新增功能或改进
- 修订号(Patch)：bug修复或细微优化

### 1.0.0 里程碑
本版本标志着项目的首次稳定发布，所有核心功能已完成测试并可用于生产环境。
